{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pro Reliability</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" media="screen" href="{% static "/assets/jvectormap/jquery-jvectormap-2.0.3.css" %}">
</head>
 <style>
        body {
          background-color: rgb(0, 175, 239);
        }

        .inset {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.6),
            0 1px 1px rgba(0, 0, 0, 0.1);
            background-color: transparent !important;
            z-index: 999;
        }

        .inset img {
            border-radius: inherit;
            width: inherit;
            height: inherit;
            display: block;
            position: relative;
            z-index: 998;
        }

        .login-name {
            font-weight: bold;
            color: white;
        }

        .login-name:hover {
            text-decoration: none;
            color: white;
        }

        .pro-frame {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .kondisi {
            width: 600px;
            margin-top: 0px;
        }

        .kondisi h3 {
            color: white;
        }

        .kondisi .tombol {
            text-align: center;
            padding: 10px;
        }

        .kondisi a {
            text-decoration: none;
        }

        .kondisi a:hover {
            text-decoration: none;
        }


        .image {
            height: 100px;

        }

        .helper {
            display: inline-block;
            height: 100%;
            vertical-align: middle;
        }

        .image img {
            vertical-align: middle;
            max-width: 80px;
        }

        .left-frame {
            z-index: 10;
            position: absolute;
            left: 0;
            top: 55%;
            transform: translateY(-50%);
            width: 20vw;
        }

        .left-frame ul {
            list-style-type: none;
        }

        .left-frame ul li {
            padding-top: 15px;
            padding-bottom: 15px;
        }

        .left-frame img{
            display: block;
            width: 50px;
        }


        .left-frame span{
            margin-top: 10px;
            color: white;
            font-size: 0.9em;
            font-weight: bold;
            display: block;
        }
        .jvectormap-zoomin, .jvectormap-zoomout, .jvectormap-goback{
            left : 40px
        }
        .jvectormap-zoomin{
            top: auto;
            bottom : 50px;
        }

        .jvectormap-zoomout{
            top: auto;
            bottom : 30px;
        }

        image.jvectormap-marker.jvectormap-element {
            animation: blinker 1s linear infinite;
        }

        @keyframes blinker {
          50% {
            opacity: 0;
          }
        }

    </style>
<body style="overflow: hidden">

<nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-transparent px-5 pt-3">
    <a class="navbar-brand" href="#">PRO-Reliability</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">

        </ul>
        <ul class="nav navbar-nav navbar-right">
            <li class="nav-item dropdown mr-5">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                   aria-haspopup="true" aria-expanded="false" style="color: white">
                    Hi! Admin Pro-Reliability
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="{% url "logout" %}">Log Out</a>
                </div>
            </li>
            <li>
                <div class="inset">
                    <img src="http://rs775.pbsrc.com/albums/yy35/PhoenyxStar/link-1.jpg~c200">
                </div>
            </li>
        </ul>
    </div>
</nav>

<div id="peta-indonesia" style="border-radius: 15px; width: 100%; height: 100vh"></div>






<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"
        integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o"
        crossorigin="anonymous"></script>

<script src="{% static "/assets/jvectormap/jquery-jvectormap-2.0.3.min.js" %}"></script>
<script src="{% static "/assets/jvectormap/indonesia-adm1.js" %}"></script>
<script>
    $(function(){
   var locale = $('meta[name=locale]').attr("content");
   var legenda;
   if(locale == "en"){
       legenda = ["Head Office","Sales Office", "Factory","Legend"];
   }else{
       legenda = ["Kantor Pusat","Kantor Penjualan", "Pabrik","Legenda"];
   }
   var pabrik = [
      {status:'factory',name:"PLTU Banten 3 Lontar",coords :[-6.059277, 106.461740]}
    ];
    $('#peta-indonesia').vectorMap({
        map: 'indonesia-adm1_merc',
        backgroundColor : '#00AFEF',
        scaleColors: ['#C8EEFF', '#0071A4'],
        regionStyle : {
            initial: {
                fill: '#006BA8',
                "fill-opacity": 1,
                stroke: 'none',
                "stroke-width": 0,
                "stroke-opacity": 1
            },
            hover: {
                "fill-opacity": 0.8,
                cursor: 'pointer'
            },
            selected: {
                fill: 'yellow'
            },
            selectedHover: {
            }
        },
        series :{
        	markers:[
        		{
        			 attribute: 'image',
        			 scale : {
        			 	'headOffice' : "/static/assets/icon/factory.png",
        			 	'salesOffice': "/static/assets/icon/factory.png",
        			 	'factory': "/static/assets/icon/factory.png",
        			 },
        			 values: pabrik.reduce(function(p, c, i){ p[i] = c.status; return p }, {}),

        		}
        	]
        },
        onMarkerTipShow: function (e, el, code) {
            var markers = $('#peta-indonesia').vectorMap('get', 'mapObject').markers;
            el.html(el.html()).css({
                    "background": "#F56052",
                    "border-radius" : "10px",
                    "border" : "none",
                    "padding" : "2px 10px"
                });
        },
        markers: pabrik.map(function(h){ return {name: h.name, latLng: h.coords} }),
        onMarkerClick: function(event, code) {
           window.location.href='/app/dashboard';
        },
    });

    function modalDetail(id){
        var nama = pabrik[id].name
        var image = "/assets/"+pabrik[id].img;
        var alamat = pabrik[id].alamat;
        var tel = pabrik[id].tel;
        var email = pabrik[id].email;
        $("#pabrik-img").prop("src",image);
        var html = '<h3>'+nama+'</h3>';
            html += '<ul>';
            html += '<li>'+alamat+'</li>';
            html += '<li>Telephone : '+tel+'</li>';
            html += '<li>Email : '+email+'</li>';
            html += "</ul>";
        $('#modal-peta').modal('show');
        $("#pabrik-info").html(html);
    }


});

</script>
</body>
</html>